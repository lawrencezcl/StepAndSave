# Step-and-Save Backend Configuration

# Server Configuration
NODE_ENV=development
PORT=3001

# VERY Network Configuration
VERY_NETWORK=testnet
VERY_RPC_URL=https://testnet-rpc.very.network
VERY_MAINNET_RPC_URL=https://rpc.very.network
VERY_API_KEY=your_very_api_key_here

# Smart Contract Addresses (update after deployment)
STEP_COUPON_FACTORY_ADDRESS=0x...
MERCHANT_BID_REGISTRY_ADDRESS=0x...
REDEEMER_ADDRESS=0x...
VERY_TOKEN_ADDRESS=0x...

# Relayer Configuration
RELAYER_PRIVATE_KEY=0x...  # Private key for gasless transactions
RELAYER_MIN_BALANCE=0.1    # Minimum VERY balance to maintain

# Database Configuration (optional - uses in-memory if not provided)
DATABASE_URL=postgres://username:password@localhost:5432/step_and_save
REDIS_URL=redis://localhost:6379

# Authentication & Security
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=12

# API Security
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://verychat.app
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# Geofencing Configuration
DEFAULT_GEOFENCE_RADIUS=500  # meters
MAX_GEOFENCE_RADIUS=10000    # meters
GEOHASH_PRECISION=6

# Step Verification
MIN_STEPS_FOR_COUPON=1000
STEP_VERIFICATION_COOLDOWN=3600  # seconds (1 hour)
MAX_DAILY_STEP_VERIFICATIONS=24

# Webhook Configuration (for VERY Network events)
WEBHOOK_SECRET=your_webhook_secret_here
WEBHOOK_ENDPOINT=/api/webhooks/very

# Monitoring & Logging
LOG_LEVEL=info
ENABLE_METRICS=true
SENTRY_DSN=your_sentry_dsn_here

# External Services
VERY_CHAT_API_URL=https://api.verychat.app
VERY_CHAT_API_KEY=your_verychat_api_key

# Development Settings
ENABLE_CORS=true
ENABLE_SWAGGER=true
MOCK_BLOCKCHAIN=false

# Production Settings (override in production)
# ENABLE_CORS=false
# LOG_LEVEL=warn
# ENABLE_SWAGGER=false